{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImage(imageTitle) {\n    const baseUrl = 'https://pixabay.com/api/';\n    const API_KEY = '48985063-5c5813c169e3db6e477352dc5';\n\n    try {\n        const response = await axios.get(baseUrl, {\n            params: {\n                key: API_KEY,\n                q: imageTitle,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: 'true',\n                page: 1,\n                per_page: 40,\n            },\n        });\n        return response;\n    } catch (error) {\n        console.error(\"Error fetching image data:\", error);\n        throw error;\n    }\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loader-div');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createImgCard(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n\n  return `\n    <div class=\"image-card\">\n      <a href=\"${largeImageURL}\" target=\"_blank\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"info\">\n        <p><strong>Likes:</strong>${likes}</p>\n        <p><strong>Views:</strong>${views}</p>\n        <p><strong>Comments:</strong>${comments}</p>\n        <p><strong>Downloads:</strong>${downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nexport function renderGallery(images) {\n  gallery.innerHTML = images.map(createImgCard).join('');\n  lightbox.refresh();\n  hideLoader();\n}\n\nexport function showLoader() {\n  gallery.classList.add('hidden');\n  loading.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loading.classList.add('hidden');\n  gallery.classList.remove('hidden');\n}\n\nexport function showMessage() {\n  iziToast.show({\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageSize: '16px',\n    messageLineHeight: '24px',\n    messageColor: '#fff',\n    maxWidth: '432px',\n    backgroundColor: '#EF4040',\n  });\n}\n","import { getImage } from './js/pixabay-api.js';\nimport {\n    hideLoader,\n    renderGallery,\n    showLoader,\n    showMessage,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\n\n\nform.addEventListener('submit', funSubmit);\n\nasync function funSubmit(e) {\n  e.preventDefault();\n\n  const searchText = input.value.trim();\n  if (!searchText) return showMessage();\n\n    input.value = '';\n    clearGallery();\n  showLoader();\n\n  try {\n    const data = await getImage(searchText);\n    const images = data.data.hits;\n\n    if (!images || images.length === 0) {\n      clearGallery();\n      throw new Error(\"No images found\");\n    }\n\n    renderGallery(images);\n  } catch (err) {\n    console.error('No results', err);\n    hideLoader();\n    showMessage();\n  }\n}\n\nfunction clearGallery() {\n    gallery.innerHTML = '';\n}\n"],"names":["getImage","imageTitle","baseUrl","API_KEY","axios","error","gallery","loading","lightbox","SimpleLightbox","createImgCard","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","images","hideLoader","showLoader","showMessage","iziToast","form","input","funSubmit","e","searchText","clearGallery","err"],"mappings":"owBAEO,eAAeA,EAASC,EAAY,CACvC,MAAMC,EAAU,2BACVC,EAAU,qCAEhB,GAAI,CAYA,OAXiB,MAAMC,EAAM,IAAIF,EAAS,CACtC,OAAQ,CACJ,IAAKC,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,EACN,SAAU,EACb,CACb,CAAS,CAEJ,OAAQI,EAAO,CACZ,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACT,CACL,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,aAAa,EAE9CC,EAAW,IAAIC,EAAe,aAAc,CAChD,YAAa,MACb,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAO,CACnC,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,iBAEQE,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oCAGVC,CAAK;AAAA,oCACLC,CAAK;AAAA,uCACFC,CAAQ;AAAA,wCACPC,CAAS;AAAA;AAAA;AAAA,GAIjD,CAEO,SAASC,EAAcC,EAAQ,CACpCd,EAAQ,UAAYc,EAAO,IAAIV,CAAa,EAAE,KAAK,EAAE,EACrDF,EAAS,QAAO,EAChBa,GACF,CAEO,SAASC,GAAa,CAC3BhB,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASc,GAAa,CAC3Bd,EAAQ,UAAU,IAAI,QAAQ,EAC9BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEO,SAASiB,GAAc,CAC5BC,EAAS,KAAK,CACZ,SAAU,WACV,QACE,2EACF,YAAa,OACb,kBAAmB,OACnB,aAAc,OACd,SAAU,QACV,gBAAiB,SACrB,CAAG,CACH,CC3DA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CpB,EAAU,SAAS,cAAc,UAAU,EAGjDmB,EAAK,iBAAiB,SAAUE,CAAS,EAEzC,eAAeA,EAAUC,EAAG,CAC1BA,EAAE,eAAc,EAEhB,MAAMC,EAAaH,EAAM,MAAM,KAAI,EACnC,GAAI,CAACG,EAAY,OAAON,IAEtBG,EAAM,MAAQ,GACdI,IACFR,IAEA,GAAI,CAEF,MAAMF,GADO,MAAMpB,EAAS6B,CAAU,GAClB,KAAK,KAEzB,GAAI,CAACT,GAAUA,EAAO,SAAW,EAC/B,MAAAU,IACM,IAAI,MAAM,iBAAiB,EAGnCX,EAAcC,CAAM,CACrB,OAAQW,EAAK,CACZ,QAAQ,MAAM,aAAcA,CAAG,EAC/BV,IACAE,GACD,CACH,CAEA,SAASO,GAAe,CACpBxB,EAAQ,UAAY,EACxB"}